<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NUMBA | Transfers</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./assets/accounts.css">
    <link rel="shortcut icon" href="./images/logo.png" type="image/x-icon">
</head>

<body>
    <div id="app">
        <header>
            <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
                <div class="header-logo">
                    <img class="logo-header" src="./images/logo.png" alt="">
                    <img class="logo-text-header" src="./images/texto logo.png" alt="">
                </div>
                <div class="container-fluid">
                    <div class="dropdown">
                        <button class="btn btn-secondary dropdown-toggle navbar-brand navbar-dark" type="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <img class="img-usuario" src="./images/paisaje-user.jpg" alt="">
                            <div>
                                <p>{{dataClients.firstName + " " +dataClients.lastName}} </p>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a href=""></a>
                            <li><button @click="alert" class="dropdown-item" type="button">LogOut</button></li>
                        </ul>
                    </div>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse nav-menu" id="navbarNavDropdown">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="./accounts.html">Accounts</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="./cards.html">Cards</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="./createCards.html">Create cards</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                    aria-expanded="false">
                                    More options
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="./loanApplication.html">Loan application</a></li>
                                    <li><a class="dropdown-item" href="./transfers.html">Transfers</a></li>
                                    <li><a class="dropdown-item" href="./servicePay.html">Service pay</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </header>
        <main>
            <div class="container-general-transfers">
                <h1 style="text-align: center;">Secure Transfer Section</h1>
                <div class="container-transfers-application">

                    <div class="transfer-full-information">
                        <div class="transfer-balance-total">
                            <h3 style="text-align: center;">Your balance Total balance</h3>
                            <div class="balance-and-img">
                                <img src="./images/icons8-transferencia-de-dinero-64.png" alt="">
                                <h1>u$s {{totalBalance.toFixed(2)}}</h1>
                            </div>
                        </div>

                        <!---------    START CAROUSEL ACCOUNTS ---------->

                        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <a class=" box-account-transfer" style="text-decoration: none;">
                                        <div class="d-flex flex-column">
                                            <h3 style="text-align: center;">Main account</h3>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <p style="font-size: 1.5rem;">{{dataClients.accounts[0].number}}
                                                </p>
                                                <img style="width: 4rem;" src="./images/cash-icon.png" alt="">
                                            </div>
                                            <h1 style="color: #4455a9;width: 100%;">u$s
                                                {{dataClients.accounts[0].balance.toFixed(2)}}
                                            </h1>
                                        </div>

                                    </a>
                                </div>
                                <template v-for="(account,index) of dataClients.accounts.sort((a, b) => a.id-b.id)">
                                    <div v-if="index !== 0" class="carousel-item"
                                        v-if="dataClients.accounts.length != 0">
                                        <a class=" box-account-transfer" style="text-decoration: none;">
                                            <div class="d-flex flex-column">
                                                <h4 style="text-align: center;">Other account</h4>
                                                <div class="d-flex justify-content-between align-items-center">
                                                    <p style="font-size: 1.5rem;">{{account.number}} </p>
                                                    <img style="width: 4rem;" src="./images/cash-icon.png" alt="">
                                                </div>
                                                <h1 style="color: #4455a9;width: 100%;">u$s
                                                    {{account.balance.toFixed(2)}}
                                                </h1>
                                            </div>
                                        </a>
                                    </div>
                                </template>
                            </div>
                            <button class="carousel-control-prev" type="button"
                                data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button"
                                data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>

                        <!---------    END CAROUSEL ACCOUNTS ---------->

                    </div>

                    <!----------- START FORM TRANSFERS ------------------->
                    <form class="form-transfers" v-on:submit.prevent="submitForm">
                        <div class="mb-3">
                            <label for="">
                                Select from which account you want to transfer
                                <select class="form-select" aria-label="Default select example" v-model="accountOut">
                                    <option selected>Open this select menu</option>
                                    <template v-for="account of dataClients.accounts">
                                        <option :value="account.number"> {{account.number}}: u$S {{account.balance}}
                                        </option>
                                    </template>
                                </select>
                            </label>
                        </div>
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">Recipient account number</label>
                            <input type="text" required class="form-control" id="exampleInputEmail1" v-model="accountIn"
                                @input="accountIn = $event.target.value.toUpperCase()">
                            <div style="color: white;" id="emailHelp" class="form-text">Don't forget to enter account
                                number.</div>
                        </div>
                        <div class="mb-3">
                            <label for="exampleInputPassword1" class="form-label">Amount</label>
                            <input type="number" required class="form-control" id="exampleInputPassword1"
                                v-model="amountTranfer">
                        </div>
                        <div class="mb-3">
                            <label for="exampleInputPassword1" class="form-label">Description</label>
                            <input type="text" minlength="4" maxlength="20" required class="form-control"
                                v-model="description" id="exampleInputPassword1">
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" required class="form-check-input" id="exampleCheck1"
                                name="isChecked">
                            <label class="form-check-label" for="exampleCheck1">I accept the terms and
                                conditions</label>
                        </div>

                        <button type="submit" class="btn btn-primary button-create-card "
                            @click="newTrasferAlert()">Submit</button>
                    </form>
                    <!----------- END FORM TRANSFERS ------------------->
                </div>
            </div>


        </main>
        <footer>
            <div class="footer-logo">
                <img class="footer-img-logo" src="./images/logo.png" alt="">
                <img class="footer-img-textologo" src="././images/texto logo.png" alt="">
            </div>
            <p>Copyrigth - Calvo juan Calvo</p>
            <div class="redes-footer">
                <a href="https://www.facebook.com/juancalvoo" target="_blank"><img src="./images/facebook1.png" alt=""
                        class="icono-facebook"></a>
                <a href="https://github.com/juancalvo864" target="_blank"><img src="./images/github.png" alt=""
                        class="icono-github"></a>
                <a href="https://www.instagram.com/juancalvoo/" target="_blank"><img src="./images/instagram1.png"
                        alt="" class="icono-instagram"></a>
            </div>
        </footer>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="./javaScript/transfers.js"></script>

</body>

</html>